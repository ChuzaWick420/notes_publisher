---
tags:
  - university-notes
university-name: Virtual University of Pakistan
date: 2025-09-08
---

# 03. Use of `IRSs` for `C` Library Functions

<span style="color: gray;">Dated: 08-09-2025</span>

## Example

`Interrupt`:[^1] `21H`  
Service: `42H`

```cpp
#include <stdio.h>
#include <fcntl.h>
#include <io.h>
#include <BIOS.h>
#include <DOS.h>

unsigned int handle;

void main () {
	union REGS regs;
	unsigned long int size;
	handle = open("c:\\abc.txt", O_RDONLY);
	regs.x.bx = handle;
	regs.h.ah = 0x42;
	regs.h.al = 0x02; //correction
	regs.x.cx = 0;
	regs.x.dx = 0;
	int86(0x21, &regs, &regs);
	
	*((int*)(&size)) = regs.x.ax;
	*(((int*)(&size)) + 1) = regs.x.dx;
	
	printf("Size is %d", size);
}
```

## References

[^1]: Read more about [[cs604_02|interrupts]].